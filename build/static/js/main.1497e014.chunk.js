(this.webpackJsonpnasaapp=this.webpackJsonpnasaapp||[]).push([[0],{38:function(e,t,a){e.exports=a(67)},65:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),u=a.n(c),l=a(4),o=function(){return r.a.createElement("div",{className:"footer"},"SpaceApp by Otso Helos")},s=a(7),i=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],u=a[1],l={display:c?"none":""},o={display:c?"":"none"},i=function(){u(!c)};return r.a.createElement("div",null,r.a.createElement("div",{style:l},r.a.createElement("div",{onClick:i,className:"togglable"},e.toggLabel)),r.a.createElement("div",{style:o},e.children,r.a.createElement("div",{onClick:i,className:"togglable"},"Hide")))},m=a(1),p=a.n(m),f=a(2),d=a(9),v=a.n(d),E="https://api.nasa.gov/planetary/apod?",b="api_key=ZLkfBiLh7H19ZeM6kNkEWnHa1MnqA6GmkbKK3pug",h={get:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(E).concat(b));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getFromDay:function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(E,"date=").concat(t,"&").concat(b));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g={url:"",title:"",explanation:""},y=function(){return console.log("initializeApod called"),function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get();case 2:a=e.sent,n={type:"INIT_APOD",data:a},console.log(n),t(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_APOD":case"VIEW_DATE":return t.data;default:return e}},O=function(){var e=Object(l.c)((function(e){return e.notif}));return""===e?r.a.createElement("div",{className:"empty-notif"},"\xa0"):r.a.createElement("div",{className:"notif"},r.a.createElement("div",{className:"exclamation"},"!"),e)},j=null,k=function(){return function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"RESET"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET":return"";case"SET_NOTIF":return t.data;default:return e}},x=function(e){var t=e.imageDesc;return r.a.createElement("div",null,t)},N=function(){var e=Object(l.c)((function(e){return e.apod})),t=Object(l.b)(),a=function(e){t(function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==j&&clearTimeout(j),j=function(){return setTimeout((function(){a(k())}),5e3)}(),a({type:"SET_NOTIF",data:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},c=function(){t(k())},u=Object(n.useState)(""),o=Object(s.a)(u,2),m=o[0],d=o[1],v=Object(n.useState)(""),E=Object(s.a)(v,2),b=E[0],g=E[1],w=Object(n.useState)(""),S=Object(s.a)(w,2),N=S[0],A=S[1];if(void 0===e)return console.log(e),null;var T=void 0===e.copyright?"Copyright: Public domain":"(c) ".concat(e.copyright);return void 0!==e?r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Astronomy Picture of the Day"),r.a.createElement("h3",null,e.date),r.a.createElement("div",{key:e.url},r.a.createElement("div",{className:"apodImg"},r.a.createElement("img",{src:e.url,alt:e.title}),r.a.createElement("br",null),r.a.createElement("b",null,T," "),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(i,{toggLabel:"See description"},r.a.createElement("b",null,"Description:"),r.a.createElement(x,{imageDesc:e.explanation}))," "),r.a.createElement("div",{className:"previous-apod"},r.a.createElement("b",null,"View previous days' picures"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a,n="".concat(m,"-").concat(b,"-").concat(N);console.log(n),t((a=n,console.log("viewing date ".concat(a)),function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getFromDay(a);case 2:n=e.sent,t({type:"VIEW_DATE",data:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),d(""),g(""),A("")}},r.a.createElement("input",{id:"year",value:m,onChange:function(e){var t=e.target.value;Number(t)||""===t?c():a("Give value as a number."),d(e.target.value)},size:"6",placeholder:"YYYY"}),r.a.createElement("input",{id:"month",value:b,onChange:function(e){var t=e.target.value;Number(t)||""===t?c():a("Give value as a number."),g(t)},size:"3",placeholder:"MM"}),r.a.createElement("input",{id:"day",value:N,onChange:function(e){var t=e.target.value;Number(t)||""===t?c():a("Give value as a number."),A(t)},size:"3",placeholder:"DD"}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Search")," \xa0 \xa0 \xa0",r.a.createElement("button",{onClick:function(){t(y())}},"Today's picture")),r.a.createElement("div",{className:"notif-div"},r.a.createElement(O,null))),r.a.createElement("div",{className:"external-link"},"All material (c) Nasa.",r.a.createElement("br",null),r.a.createElement("a",{href:"https://apod.nasa.gov/apod/",target:"_blank",rel:"noopener noreferrer"},"APOD on Nasa homepage")),r.a.createElement("div",null)):void 0},A="https://otsos-space-app.herokuapp.com/api/comments",T={getAll:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(A);case 2:return t=e.sent,console.log("data",t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),post:function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(A,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)(""),l=Object(s.a)(u,2),o=l[0],i=l[1],m=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),T.post({content:o,author:a}),c(""),i("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Post a new comment"),r.a.createElement("form",{onSubmit:m},"Comment:",r.a.createElement("input",{id:"url",value:o,onChange:function(e){i(e.target.value)}}),r.a.createElement("br",null),"Your name:",r.a.createElement("input",{id:"author",value:a,onChange:function(e){c(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"save"))))},_=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){T.getAll().then((function(e){return c(e)}))}),[]),console.log(a),a?r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Comments on this app:"),a.map((function(e){return r.a.createElement("div",{key:e.id},'"',e.content,'"',r.a.createElement("br",null),r.a.createElement("blockquote",null,"by ",r.a.createElement("b",null,e.author)))})),r.a.createElement(I,null)):r.a.createElement("div",null,"Info!")},C="https://api.nasa.gov/insight_weather/?api_key=ZLkfBiLh7H19ZeM6kNkEWnHa1MnqA6GmkbKK3pug&feedtype=json&ver=1.0",D={get:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(C);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getToday:function(){var e=Object(f.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(C);case 2:return t=e.sent,a=t.data.sol_keys,n=a[6],e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},M={all_data:{AT:{av:null},HWS:{av:null},PRW:{av:null}},today:null},R=function(){return console.log("initializeMars called"),function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.get();case 2:return a=e.sent,e.next=5,D.getToday();case 5:n=e.sent,r=a["".concat(n)],c={type:"INIT_MARS",data:{day:n,days_data:r,today:n}},console.log(c),t(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_MARS":case"ONE_DAY":return t.data;default:return e}},W=function(e){var t=e.handleView,a=e.day;return r.a.createElement("div",{className:"small-button",onClick:function(){return t(a)}},a)},P=function(){var e=Object(l.b)(),t=function(t){e(function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var n,r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("".concat(e," called")),t.next=3,D.get();case 3:return n=t.sent,t.next=6,D.getToday();case 6:r=t.sent,c=n["".concat(e)],a({type:"ONE_DAY",data:{day:e,days_data:c,today:r}});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};console.log("we're in marsweather");var a=Object(l.c)((function(e){return e.mars})),n=a.today,c=a.day,u=a.days_data;if(console.log("today's data:",u),void 0===u)return null;var o=void 0===u.AT?{av:"(unavailable)"}:u.AT,s=o.av,i=u.HWS,m=u.Season,d=(void 0===u.PRE?{av:"(unavailable)"}:u.PRE).av,v="number"===typeof d?(100*d/10325).toFixed(2):"(unavailable)";return c===n?r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Today\u2019s Weather on Mars"),"Today is Sol ",n,". It\u2019s ",m,".",r.a.createElement("br",null),"Average temperature is ",s," \xb0C",r.a.createElement("br",null),"Average wind speed is ",i.av," m/s",r.a.createElement("br",null),"Atmospheric pressure is ",d," pascals; this is ",v," % of Earth\u2019s air pressure at sea level.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"View previous days:"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(W,{day:n-1,handleView:t}),r.a.createElement(W,{day:n-2,handleView:t}),r.a.createElement(W,{day:n-3,handleView:t}),r.a.createElement(W,{day:n-4,handleView:t}),r.a.createElement(W,{day:n-5,handleView:t})):r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Weather on Mars for Sol ",c),"On Sol ",c," it was ",m,".",r.a.createElement("br",null),"Average temperature was ",o.av," \xb0C",r.a.createElement("br",null),"Average wind speed was ",i.av," m/s",r.a.createElement("br",null),"Atmospheric pressure was ",d," pascals; this is ",(100*d/10325).toFixed(2)," % of Earth\u2019s air pressure at sea level.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"small-button",onClick:function(){e(R())}},"Back"))},V=a(37),L={searchImg:function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat("https://images-api.nasa.gov/search","?q=").concat(t,"&media_type=image"));case 2:return a=e.sent,n=a.data.collection.items.filter((function(e){return e.data})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getImg:function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat("https://images-assets.nasa.gov/image","/").concat(t,"/collection.json"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},G={res:[],img:null},Y=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.searchImg(e);case 2:n=t.sent,a({type:"SEARCH_RESULTS",data:{res:n,img:null}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getImg(e);case 2:n=t.sent,console.log("imgArray: ",n),r=n[0],a({type:"SET_IMG",data:r});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_RESULTS":case"INIT_SEARCH":return t.data;case"SET_IMG":return Object(V.a)({},e,{img:t.data});default:return e}},K=function(){var e=Object(l.b)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],u=a[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Search for images"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(Y(c))}},"Keywords: \xa0",r.a.createElement("input",{id:"keyword",value:c,onChange:function(e){u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Search"))))},q=function(e){var t=e.findImg,a=e.result,n=e.styleName;return r.a.createElement("div",{onClick:function(){t(a.data[0].nasa_id)},className:"".concat(n," link")},a.data[0].title)},B=function(){var e=Object(l.c)((function(e){return e.search})),t=e.res,a=e.img;console.log("img: ",a),console.log("search: ",e);var c=Object(l.b)();Object(n.useEffect)((function(){c(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"INIT_SEARCH",data:{res:[],img:null}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var u=["result-dark","result-bright"],o=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(F(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t!==[]&&void 0!==t?r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement("br",null),r.a.createElement("img",{src:a,className:"search-img"}),r.a.createElement("h2",null,"Search results:"),t.map((function(e,t){return r.a.createElement(q,{result:e,key:e.data[0].nasa_id,styleName:u[t%2],findImg:o})})),r.a.createElement("br",null)):r.a.createElement("div",null,"Something went wrong. Sorry.")},Z=a(14),J=a(12),U=(a(65),{padding:"15px"}),Q=function(){return r.a.createElement("div",{className:"menu"},r.a.createElement("h1",null,"SpaceApp"),r.a.createElement(Z.b,{style:U,to:"/"},"APOD"),r.a.createElement(Z.b,{style:U,to:"/mars"},"Mars Weather"),r.a.createElement(Z.b,{stype:U,to:"/search"},"Image Search"),r.a.createElement(Z.b,{style:U,to:"/comments"},"Comments"))},X=function(){var e=Object(l.b)();return Object(n.useEffect)((function(){e(y())}),[e]),Object(n.useEffect)((function(){e(R())}),[e]),Object(n.useEffect)((function(){e(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"RESET"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),r.a.createElement("div",{className:"app"},r.a.createElement(Q,null),r.a.createElement("br",null),r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"content"},r.a.createElement(J.c,null,r.a.createElement(J.a,{path:"/comments"},r.a.createElement(_,null)),r.a.createElement(J.a,{path:"/mars"},r.a.createElement(P,null)),r.a.createElement(J.a,{path:"/search"},r.a.createElement(B,null)),r.a.createElement(J.a,{path:"/"},r.a.createElement(N,null))))),r.a.createElement(o,null))},$=a(13),ee=a(35),te=a(36),ae=Object($.combineReducers)({apod:w,mars:H,search:z,notif:S}),ne=Object($.createStore)(ae,Object(te.composeWithDevTools)(Object($.applyMiddleware)(ee.a)));u.a.render(r.a.createElement(l.a,{store:ne},r.a.createElement(Z.a,null,r.a.createElement(X,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1497e014.chunk.js.map