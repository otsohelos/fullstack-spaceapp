(this.webpackJsonpnasaapp=this.webpackJsonpnasaapp||[]).push([[0],{37:function(e,t,a){e.exports=a(66)},64:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=a(9),u=function(){return r.a.createElement("div",{className:"footer"},"SpaceApp by Otso Helos")},s=a(13),i=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1],o={display:l?"none":""},u={display:l?"":"none"},i=function(){c(!l)};return r.a.createElement("div",null,r.a.createElement("div",{style:o},r.a.createElement("div",{onClick:i,className:"togglable"},e.toggLabel)),r.a.createElement("div",{style:u},e.children,r.a.createElement("div",{onClick:i,className:"togglable"},"Hide")))},m=function(e){var t=e.imageDesc;return r.a.createElement("div",null,t)},p=function(){console.log("we're in apod");var e=Object(o.c)((function(e){return e.apod}));return console.log(e),setTimeout((function(){console.log(e)}),5e3),void 0===e?(console.log(e),null):void 0!==e?r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Astronomy Picture of the Day"),r.a.createElement("div",{key:e.url},r.a.createElement("div",{className:"apodImg"},r.a.createElement("img",{src:e.url,alt:e.title})),r.a.createElement(i,{toggLabel:"See description"},r.a.createElement("b",null,"Description:"),r.a.createElement(m,{imageDesc:e.explanation}))," "),r.a.createElement("div",{className:"external-link"},"All material (c) Nasa.",r.a.createElement("br",null),r.a.createElement("a",{href:"https://apod.nasa.gov/apod/",target:"_blank",rel:"noopener noreferrer"},"APOD on Nasa homepage")),r.a.createElement("div",null)):void 0},d=a(2),f=a.n(d),v=a(3),E=a(10),b=a.n(E),h="https://otsos-space-app.herokuapp.com/api/comments",g={getAll:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(h);case 2:return t=e.sent,console.log("data",t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),post:function(){var e=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(h,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),u=o[0],i=o[1],m=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),g.post({content:u,author:a}),l(""),i("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Post a new comment"),r.a.createElement("form",{onSubmit:m},"Comment:",r.a.createElement("input",{id:"url",value:u,onChange:function(e){i(e.target.value)}}),r.a.createElement("br",null),"Your name:",r.a.createElement("input",{id:"author",value:a,onChange:function(e){l(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"save"))))},w=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){g.getAll().then((function(e){return l(e)}))}),[]),console.log(a),a?r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Comments on this app:"),a.map((function(e){return r.a.createElement("div",{key:e.id},'"',e.content,'"',r.a.createElement("br",null),r.a.createElement("blockquote",null,"by ",r.a.createElement("b",null,e.author)))})),r.a.createElement(y,null)):r.a.createElement("div",null,"Info!")},O="https://api.nasa.gov/insight_weather/?api_key=ZLkfBiLh7H19ZeM6kNkEWnHa1MnqA6GmkbKK3pug&feedtype=json&ver=1.0",k={get:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(O);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getToday:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(O);case 2:return t=e.sent,a=t.data.sol_keys,n=a[6],e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},j={all_data:{AT:{av:null},HWS:{av:null},PRW:{av:null}},today:null},x=function(){return console.log("initializeMars called"),function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get();case 2:return a=e.sent,e.next=5,k.getToday();case 5:n=e.sent,r=a["".concat(n)],l={type:"INIT_MARS",data:{day:n,days_data:r,today:n}},console.log(l),t(l);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_MARS":case"ONE_DAY":return t.data;default:return e}},N=function(e){var t=e.handleView,a=e.day;return r.a.createElement("div",{className:"small-button",onClick:function(){return t(a)}},a)},S=function(){var e=Object(o.b)(),t=function(t){e(function(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("".concat(e," called")),t.next=3,k.get();case 3:return n=t.sent,t.next=6,k.getToday();case 6:r=t.sent,l=n["".concat(e)],a({type:"ONE_DAY",data:{day:e,days_data:l,today:r}});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};console.log("we're in marsweather");var a=Object(o.c)((function(e){return e.mars})),n=a.today,l=a.day,c=a.days_data;if(console.log("today's data:",c),void 0===c)return null;if(l===n){var u=c.AT,s=c.HWS,i=c.Season,m=c.PRE.av;return r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Today\u2019s Weather on Mars"),"Today is Sol ",n,". It\u2019s ",i,".",r.a.createElement("br",null),"Average temperature is ",u.av," \xb0C",r.a.createElement("br",null),"Average wind speed is ",s.av," m/s",r.a.createElement("br",null),"Atmospheric pressure is ",m," pascals; this is ",(100*m/10325).toFixed(2)," % of Earth\u2019s air pressure at sea level.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"View previous days:"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(N,{day:n-1,handleView:t}),r.a.createElement(N,{day:n-2,handleView:t}),r.a.createElement(N,{day:n-3,handleView:t}),r.a.createElement(N,{day:n-4,handleView:t}),r.a.createElement(N,{day:n-5,handleView:t}))}var p=c.AT,d=c.HWS,E=c.Season,b=c.PRE.av;return r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Weather on Mars for Sol ",l),"On Sol ",l," it was ",E,".",r.a.createElement("br",null),"Average temperature was ",p.av," \xb0C",r.a.createElement("br",null),"Average wind speed was ",d.av," m/s",r.a.createElement("br",null),"Atmospheric pressure was ",b," pascals; this is ",(100*b/10325).toFixed(2)," % of Earth\u2019s air pressure at sea level.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"small-button",onClick:function(){e(x())}},"Back"))},_={get:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://api.nasa.gov/planetary/apod?api_key=ZLkfBiLh7H19ZeM6kNkEWnHa1MnqA6GmkbKK3pug");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},T={url:"",title:"",explanation:""},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_APOD":return t.data;default:return e}},I=a(15),C=a(11),M=(a(64),{padding:"15px"}),W=function(){return r.a.createElement("div",{className:"menu"},r.a.createElement("h1",null,"SpaceApp"),r.a.createElement(I.b,{style:M,to:"/"},"APOD"),r.a.createElement(I.b,{style:M,to:"/mars"},"Mars Weather"),r.a.createElement(I.b,{style:M,to:"/comments"},"Comments"))},H=function(){var e=Object(o.b)();return Object(n.useEffect)((function(){e((console.log("initializeApod called"),function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get();case 2:a=e.sent,n={type:"INIT_APOD",data:a},console.log(n),t(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e]),Object(n.useEffect)((function(){e(x())}),[e]),r.a.createElement("div",{className:"app"},r.a.createElement(W,null),r.a.createElement("br",null),r.a.createElement("div",{className:"content-container"},r.a.createElement(C.c,null,r.a.createElement(C.a,{path:"/comments"},r.a.createElement(w,null)),r.a.createElement(C.a,{path:"/mars"},r.a.createElement(S,null)),r.a.createElement(C.a,{path:"/"},r.a.createElement(p,null)))),r.a.createElement(u,null))},P=a(12),V=a(35),L=a(36),R=Object(P.combineReducers)({apod:D,mars:A}),B=Object(P.createStore)(R,Object(L.composeWithDevTools)(Object(P.applyMiddleware)(V.a)));c.a.render(r.a.createElement(o.a,{store:B},r.a.createElement(I.a,null,r.a.createElement(H,null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.a4f53d8a.chunk.js.map